{{template "base" .}}
{{define "content"}}
<section id="invites-page" aria-labelledby="invites-title">
<h1 id="invites-title">Invites</h1>

<div class="grid">
    <article class="card" id="create-invite-card">
        <h3>Create Invite</h3>
        <p>Generate an invite code to share with someone you want to connect with.</p>
        <form id="create-invite-form" class="form" aria-label="Create invite form">
            <div class="form-group">
                <label for="expiry">Expires in:</label>
                <select id="expiry" name="expiry" class="form-select">
                    <option value="1h">1 hour</option>
                    <option value="24h" selected>24 hours</option>
                    <option value="168h">7 days</option>
                    <option value="720h">30 days</option>
                </select>
            </div>
            <div class="form-group">
                <label for="max_uses">Max uses:</label>
                <input type="number" id="max_uses" name="max_uses" value="1" min="1" max="100" class="form-input">
            </div>
            <button type="submit" class="btn btn-primary" id="create-invite-btn">Generate Invite</button>
        </form>
        <div id="invite-result" class="invite-result hidden" aria-live="polite">
            <label for="invite-code">Invite Code:</label>
            <textarea id="invite-code" class="form-textarea" readonly rows="4" aria-describedby="invite-code-help"></textarea>
            <p id="invite-code-help" class="muted sr-only">Copy this code and share it with the person you want to invite.</p>
            <button type="button" class="btn btn-secondary" id="copy-invite-btn" onclick="copyInviteCode(event)">Copy to Clipboard</button>
        </div>
    </article>

    <article class="card" id="accept-invite-card">
        <h3>Accept Invite</h3>
        <p>Paste an invite code you received to connect to another node.</p>
        <form id="accept-invite-form" class="form" aria-label="Accept invite form">
            <div class="form-group">
                <label for="invite_code">Invite Code:</label>
                <textarea id="invite_code" name="invite_code" class="form-textarea" rows="4" placeholder="i2plan://..." required aria-required="true"></textarea>
            </div>
            <button type="submit" class="btn btn-primary" id="accept-invite-btn">Accept Invite</button>
        </form>
        <div id="accept-result" class="hidden" aria-live="polite">
            <div id="accept-success" class="alert alert-success hidden" role="status"></div>
            <div id="accept-error" class="alert alert-error hidden" role="alert"></div>
        </div>
    </article>
</div>
</section>
{{end}}
