{{template "base" .}}
{{define "content"}}
<h1>Invites</h1>

<div class="grid">
    <div class="card">
        <h3>Create Invite</h3>
        <p>Generate an invite code to share with someone you want to connect with.</p>
        <form id="create-invite-form" class="form">
            <div class="form-group">
                <label for="expiry">Expires in:</label>
                <select id="expiry" name="expiry">
                    <option value="1h">1 hour</option>
                    <option value="24h" selected>24 hours</option>
                    <option value="168h">7 days</option>
                    <option value="720h">30 days</option>
                </select>
            </div>
            <div class="form-group">
                <label for="max_uses">Max uses:</label>
                <input type="number" id="max_uses" name="max_uses" value="1" min="1" max="100">
            </div>
            <button type="submit" class="btn btn-primary">Generate Invite</button>
        </form>
        <div id="invite-result" class="invite-result hidden">
            <label>Invite Code:</label>
            <textarea id="invite-code" readonly rows="4"></textarea>
            <button class="btn" onclick="copyInviteCode()">Copy to Clipboard</button>
        </div>
    </div>

    <div class="card">
        <h3>Accept Invite</h3>
        <p>Paste an invite code you received to connect to another node.</p>
        <form id="accept-invite-form" class="form">
            <div class="form-group">
                <label for="invite_code">Invite Code:</label>
                <textarea id="invite_code" name="invite_code" rows="4" placeholder="i2plan://..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Accept Invite</button>
        </form>
        <div id="accept-result" class="hidden">
            <div id="accept-success" class="alert alert-success hidden"></div>
            <div id="accept-error" class="alert alert-error hidden"></div>
        </div>
    </div>
</div>
{{end}}
{{end}}
